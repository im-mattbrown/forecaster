# Forecaster

Clone this repo with `git clone https://github.com/mattericbrown/forecaster.git`

To access the forecast project navigate to folder `cd forecaster` and run `ruby forecaster.rb` in the terminal

If provided a valid address to the script prompt, the program will return a current and extended forcast for the area.

## Process

In this project I attempted a few different approaches until landing on using a simple ruby script to retrieve weather information from a free weather API

* My first go around I thought that it would be easiest to scrape a weather page using Nokogiri and Pry. I ran into a number of issues with several of the sites I tried to scrape. Mostly, even with a full address many of the sites returned multiple possible results making it seem to be a bad choice for getting accurate weather results from an address as it would be quite possible that the wrong address could be chosen.

* My next thought was to find a free weather API that is developer friendly and will provide good results based off of using an address. I came across https://darksky.net/forecast/ which provided a pretty decent weather API for free.

* The only issue I had going forward is that to hit the API, darksky.net required the url to include the latitude and longitude in order to return a JSON response with the weather forecast for that area. This is where Geocoder comes in.

* I attempted a simple rails controller and model for Forecast(s) with params that would make for a full address in the form of 'Street, City, State, Zip' as well as two Float params for Latitude and Longitude. My thought was to have a user input all of the address information, call a method (address) that concatenates them and pass that information off to geocoder by calling address.geocode to get it to return the latitude and longitude for each new Forecast

* In order to test geocoder in the rails console I created a new Forecast instance and called the geocode method on the address generated by the address method. Great! It returned latitude and longitude when provided a valid address. Now to get the form to submit the information from a user to geocode method and return latitude and longitude. Then it would be matter of passing that info along open-uri to the properly formatted API url endpoint

* This is where I ran into more problems, I thought it would be simple enough to render a template with the response on the index page where the Forecast form is by accessing the weather API with open-uri but I had a bit of trouble implementing that in Rails.

* That is when I decided to write a plain Ruby script to test my idea out. I found no problem getting a JSON response from the API and ended up liking the result so much that I decided to run with it. I figured since the assignment was open to interpretation that this would be an approach that would be functional and simple.

* I feel that the only requirement missing is to cache the forecast details for 30 min for subsequent requests by Zip codes. I believe the way to go about doing so would be to cache each instance in Redis for quick retrieval if an address with the same Zip code as a previous address was provided.
